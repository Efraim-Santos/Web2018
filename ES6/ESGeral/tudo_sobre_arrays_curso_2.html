<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
    <script type="text/javascript">

        console.log('------------------------ARRAYS-----------------------------\n\n')
        const pilotos = ['Vettel', 'Alonso', 'Raikkonen', 'Massa']
        pilotos.pop()   //REMOVE O ULTIMO ELEMENTO
        console.log(pilotos)


        pilotos.push('Verstappen')
        console.log(pilotos)

        pilotos.shift()         //REMOVE O PRIMEIRO ELEMENTO
        console.log(pilotos)

        pilotos.unshift('Hamilton')     //ADICIONA NA PRIMEIRA POSIÇÃO
        console.log(pilotos)
    
        // SPLICE PODE ADICIONAR E REMOVER ELEMENTOS

        //Adicionar
        pilotos.splice(2, 0, 'Botas', 'Massa')
        console.log(pilotos)
        
        //REMOVE
        pilotos.slice(3,1)  //MASSA QUEBROU
        console.log(pilotos)

        const algunsPilotos = pilotos.slice(1, 4)
        console.log(algunsPilotos)

        const algunsPilotos2 = pilotos.slice(1, 4)
        console.log(algunsPilotos2)
        
        console.log('---------------------------FORREACH-------------------------------------- \n\n')

        const aprovados = ['Agatha', 'Aldo', 'Daniel', 'Raquel']

        aprovados.forEach(function(nome, indice) {      //Foreach percorre o array com indice e valor
            console.log(`${indice+1}) ${nome} `)
        })

        aprovados.forEach(nome => console.log(nome))    //Outra maneira de fazer

        console.log('\n\n')

        const exibirAprovados = nome => console.log(nome)

        aprovados.forEach(exibirAprovados)

        console.log(aprovados.__proto__) 
        
        // console.log(aprovados.__proto__.forEach)

        console.log('---------------IMPLEMENTANDO O FOREACH------------------ \n\n')
        console.log(aprovados)

        Array.prototype.forEach2 = function (callBack){                 //Imitando a Function ForEach
            for (let i = 0; i < this.length; i++) { 
                callBack(this[i], i, this)
            }
        }

        // aprovados.__proto__.forEach2 = function(f){              Eu tentando fazer o ForEach
        //     let valores = this       
        //     let indice;
        //     // for (let i = 0; i < valores.length; i++) {
        //     //     let indice = i;
        //     //     valores = valores[i]
        //     //     console.log(indice, valores)
        //     // }
        //     f.aux = valores[0]
        //     // return f
        //     console.log(f.this)
        // }


        aprovados.forEach2(function(nome, indice) {      //Foreach percorre o array com indice e valor
            console.log(`${indice+1}) ${nome} `)
        })

        console.log('-----------------MAP---------------------\n\n')

        const  nums = [1, 2, 3, 4, 5, 6]

        console.log(nums)

        let resultado = nums.map(function(e){       //Map execulta uma ação em um array e retorna outro array do mesmo tamanho
            return e * 2
        })

        let triplo = e => e * 3         // a variavel recebe uma função
        let soma = e => e + 10  
        let real = e => `R$ ${parseFloat(e).toFixed(2).replace('.', ',')}`  // essa função ele converte em float, depois add duas casa apos o ponto, e por ultimo substitui o ponto pela virgula

        resultado = nums.map(soma).map(triplo).map(real)

        console.log(resultado)

        console.log('-----------------DESAFIO---------------(converter o JSON em object e imprimir os preços)')
        
        const carrinho = [
            '{"nome": "Borracha", "preco": 3.45}',
            '{"nome": "Caderno", "preco": 13.90}',
            '{"nome": "Kit de Lapis", "preco": 41.22}',
            '{"nome": "CAneta", "preco": 7.50}'
        ]

        console.log(carrinho)

        let resultado_json = carrinho.map(e => JSON.parse(e)).map(e => e.preco)

        console.log(resultado_json)
        
    </script>
</body>
</html>